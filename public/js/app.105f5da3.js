(function(){var e={2210:function(e,t,n){"use strict";var o=n(8935),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view",{staticClass:"router-view"}),n("Footer")],1)},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-section"},[n("div",{staticClass:"container"},[n("nav",{staticClass:"main-menu left-side"},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),n("router-link",{attrs:{to:"/inventory"}},[e._v("Inventory")])],1),e.isLoggedIn?n("div",{staticClass:"user-coin-info right-side"},[n("span",[e._v(e._s(e.totalSol)+" SOL ($5)")]),n("span",[e._v(e._s(e.totalLoot)+" Loot")]),n("el-popover",{attrs:{placement:"bottom",title:"My Account",width:"260",trigger:"click"}},[n("div",{staticClass:"p-row"},[n("label",{staticClass:"block"},[e._v("Wallet Address: ")]),n("strong",[e._v(e._s(e.wallet))]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-copy-document",type:"text"},on:{click:e.copyWallet}})],1),n("div",{staticClass:"p-row"},[n("label",{staticClass:"block"},[e._v("Balance:")]),n("strong",[e._v(e._s(e.totalSol)+" SOL")])]),n("div",{staticClass:"p-row"},[n("el-button",{on:{click:e.logout}},[e._v("Disconnect")])],1),n("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-user-solid"},slot:"reference"},[e._v("My Account")])],1)],1):n("div",{staticClass:"user-coin-info right-side"},[n("router-link",{attrs:{to:"/connect-wallet"}},[e._v("Connect Wallet")])],1)])])},i=[],c=n(7010),u=n.n(c),l=n(4665),d={data(){return{}},computed:{...(0,l.rn)({wallet:e=>e.users.wallet,user:e=>e.users.user}),...(0,l.Se)({isLoggedIn:"users/isLoggedIn"}),totalSol(){return this.user.sol_balance},totalLoot(){return this.user.total_loot}},methods:{...(0,l.nv)({doLogout:"users/logout"}),async logout(){await this.doLogout(),this.$router.push(`/connect-wallet?redirect=${this.$route.fullPath}`)},copyWallet(){u()(this.wallet),this.$message({message:"Wallet address copied.",type:"success"})}}},f=d,m=n(1001),h=(0,m.Z)(f,s,i,!1,null,null,null),g=h.exports,p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer-section"},[n("div",{staticClass:"container align-center"},[e._v(" (c) 2022 copyright by YourCompany ")])])}],v={data(){return{}}},T=v,S=(0,m.Z)(T,p,E,!1,null,null,null),b=S.exports;o["default"].filter("currency",(function(e){if("number"!==typeof e)return e;var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return t.format(e)}));var w={components:{Header:g,Footer:b},computed:{...(0,l.rn)({socket:e=>e.socket})},mounted(){this.$store.dispatch("get_nfts"),this.socket.on("gts_connect",(function(e){console.log(e)})),this.socket.on("game_update",(function(e){console.log(e)}))}},N=w,k=(0,m.Z)(N,r,a,!1,null,null,null),y=k.exports,O=n(2809);o["default"].use(O.Z);const A=[{path:"/",name:"home",component:()=>n.e(177).then(n.bind(n,3643))},{path:"/login",name:"login",component:()=>n.e(535).then(n.bind(n,2379))},{path:"/connect-wallet",name:"connect-wallet",component:()=>n.e(864).then(n.bind(n,6045))},{path:"/inventory",name:"inventory",component:()=>n.e(234).then(n.bind(n,365))},{path:"*",redirect:"/404",hidden:!0}],I=()=>new O.Z({scrollBehavior:()=>({y:0}),routes:A}),L=I();function F(){const e=I();L.matcher=e.matcher}var C=L,P=n(6166),G=n.n(P),R=n(4549),M=n.n(R),D=n(329);const Z="bt_gts_token",$="bt_gts_refresh_token";function j(){return D.Z.get(Z)}function H(e){return D.Z.set(Z,e)}function x(){return D.Z.remove(Z)}function U(){return D.Z.get($)}function W(e){return D.Z.set($,e)}function q(){return D.Z.remove($)}n(2196);const K=G().create({baseURL:"https://bonensoher.eosvn.com/api/v1",timeout:45e3});K.interceptors.request.use((e=>(ue.getters.token&&(e.headers["Authorization"]=`Bearer ${j()}`),e)),(e=>Promise.reject(e))),K.interceptors.response.use((e=>e.data),(e=>Promise.reject(e)));var B=K;class Y{login(e){return B({url:"/auth/login",method:"post",data:e})}refreshToken(e){return B({url:"/auth/refresh-token",method:"post",data:e})}getInfo(e){return B({url:"/auth/info",method:"get",params:e})}logout(){return B({url:"/auth/logout",method:"post"})}toggleSelectHero(e){return B({url:"/user/update-hero-status",method:"post",data:e})}updateNonNFTEntries(e){return B({url:"/user/update-non-nft-entries",method:"post",data:e})}enterGame(e){return B({url:"/user/enter-game",method:"post",data:e})}}const Q=new Y,z=()=>({queued:!1,game_playing_id:0,game_id:0,token:j(),refresh_token:U(),wallet:"",user:{},non_nft_entries:0,heroes_mint:[],heroes_data:[],curent_game_info:{}}),J=z(),V={heroes(e,t,n){return void 0===n.nfts?[]:_.filter(n.nfts,(t=>e.heroes_mint.indexOf(t.mint)>-1))},isLoggedIn(e){return!!e.token},heroCommitedTotal(e){let t=_.filter(e.heroes_data,(e=>1===e.active));return t.length}},X={SET_QUEUED:(e,t)=>{e.queued=t},RESET_STATE:e=>{Object.assign(e,z())},SET_TOKEN:(e,t)=>{e.token=t},SET_REFRESH_TOKEN:(e,t)=>{e.refresh_token=t},SET_FULLNAME:(e,t)=>{e.fullname=t},SET_WALLET:(e,t)=>{e.wallet=t},SET_AVATAR:(e,t)=>{e.avatar=t},SET_USER:(e,t)=>{e.user=t},SET_HEROES_MINT:(e,t)=>{e.heroes_mint=t},SET_HEROES_DATA:(e,t)=>{e.heroes_data=t},SET_NON_NFT_ENTRIES:(e,t)=>{e.non_nft_entries=t},SET_CURENT_GAME_INFO:(e,t)=>{J.curent_game_info=t},SET_GAME_PLAYING_ID:(e,t)=>{e.game_playing_id=t},SET_GAME_ID:(e,t)=>{e.game_id=t}},ee={login({commit:e},t){const{email:n,password:o}=t;return new Promise(((t,r)=>{Q.login({email:n.trim(),password:o}).then((n=>{const{data:o}=n;e("SET_TOKEN",o.token),e("SET_REFRESH_TOKEN",o.refresh_token),H(o.token),W(o.refresh_token),t()})).catch((e=>{r(e)}))}))},refreshToken({state:e,commit:t}){return new Promise(((n,o)=>{let r={refresh_token:e.refresh_token};Q.refreshToken(r).then((e=>{const{data:o}=e;null!==o.token?(t("SET_TOKEN",o.token),H(o.token)):(x(),q()),n(e)})).catch((e=>{o(e)}))}))},getInfo({state:e,commit:t}){return new Promise(((e,n)=>{Q.getInfo().then((n=>{const{data:o}=n;let r=o.user,a=o.heroes,s=o.heroes_data;t("SET_WALLET",r.wallet),t("SET_USER",r),t("SET_HEROES_MINT",a),t("SET_HEROES_DATA",s),t("SET_NON_NFT_ENTRIES",o.non_nft_entries),t("SET_CURENT_GAME_INFO",o.current_entries),t("SET_GAME_PLAYING_ID",o.game_playing_id),t("SET_GAME_ID",o.game_id),t("SET_NFTS_LOADING",!1,{root:!0}),o.game_playing_id>0&&t("SET_QUEUED",!0),e(o)})).catch((e=>{n(e)}))}))},logout({state:e,commit:t}){return new Promise(((e,n)=>{Q.logout().then((()=>{x(),q(),F(),t("RESET_STATE"),e()})).catch((e=>{n(e)}))}))},resetToken({commit:e}){return new Promise((t=>{x(),e("RESET_STATE"),t()}))},toggleSelectHero({state:e,commit:t},n){return new Promise(((o,r)=>{Q.toggleSelectHero(n).then((n=>{let r=[];e.heroes_data.forEach((e=>{let t=e;t.mint===n.update.mint&&(t.active=n.update.active),r.push(t)})),t("SET_HEROES_DATA",r),t("SET_CURENT_GAME_INFO",n.game_info),o(n)})).catch((e=>{r(e)}))}))},updateNonNFTEntries({commit:e},t){return new Promise(((n,o)=>{Q.updateNonNFTEntries({entries:t}).then((t=>{e("SET_CURENT_GAME_INFO",t.game_info),n(t)})).catch((e=>{console.log(e),o(e)}))}))},enterGame({commit:e}){return new Promise(((e,t)=>{Q.enterGame({}).then((t=>{e(t)})).catch((e=>{console.log(e),t(e)}))}))}};var te={namespaced:!0,state:J,getters:V,actions:ee,mutations:X};class ne{getGameInfo(){return B({url:"/game/info",method:"get"})}getNSTF(){return B({url:"https://cryptoquestnft.com/api/nfts/all",method:"get"})}}const oe=new ne,re={sidebar:e=>e.sidebar,device:e=>e.device,token:e=>e.users.token,avatar:e=>e.users.avatar,name:e=>e.users.name};var ae=re;o["default"].use(l.ZP);const se=n(3969),ie=se("https://bonensoher.eosvn.com/gts.dashboard",{}),ce=new l.ZP.Store({modules:{users:te},state:{version:"1.0.1",sidebar:!1,device:"",nfts_loading:!1,nfts:[],SolTotal:0,socket:ie,game_info:{}},getters:ae,mutations:{SET_NFTS_LOADING:(e,t)=>{e.nfts_loading=t},SET_NFTS_DATA:(e,t)=>{e.nfts=t},SET_SOL_TOTAL:(e,t)=>{e.SolTotal=t},SET_GAME_INFO:(e,t)=>{e.game_info=t}},actions:{get_game_info({commit:e}){return new Promise(((t,n)=>{oe.getGameInfo().then((n=>{e("SET_GAME_INFO",n.game_info),t(n)})).catch((e=>{console.log(e),n(e)}))}))},get_nfts({commit:e}){return e("SET_NFTS_LOADING",!0),new Promise(((t,n)=>{oe.getNSTF().then((n=>{e("SET_NFTS_DATA",n.nfts),e("SET_NFTS_LOADING",!1),t(n)})).catch((t=>{console.log(t),e("SET_NFTS_LOADING",!1),n(t)}))}))}}});var ue=ce,le=n(7345),de=n(2228),fe=n(9879),_e=n.n(fe),me=n(9734),he=n.n(me);const ge=he().title||"Treasure Stealing";function pe(e){return e?`${e} - ${ge}`:`${ge}`}_e().configure({showSpinner:!1});const Ee=["/login","/connect-wallet"];C.beforeEach((async(e,t,n)=>{_e().start(),document.title=pe(e.meta.title);const o=j();if(o)if("/connect-wallet"===e.path)n({path:"/"}),_e().done();else{const t=ue.getters.name;if(t)n();else try{await ue.dispatch("users/getInfo"),n()}catch(r){await ue.dispatch("users/resetToken"),R.Message.error(r||"Has Error"),n(`/connect-wallet?redirect=${e.path}`),_e().done()}}else-1!==Ee.indexOf(e.path)?n():(n(`/connect-wallet?redirect=${e.path}`),_e().done())})),C.afterEach((()=>{_e().done()}));var ve=JSON.parse('{"hello":"Hello world!"}');const Te="en",Se={en:ve};o["default"].use(le.Z),o["default"].use(l.ZP),o["default"].config.productionTip=!1;const be=Object.assign(Se);o["default"].use(M()),o["default"].use(de.ZP),o["default"].config.productionTip=!1;var we=new le.Z({locale:Te,fallbackLocale:"en",messages:be});new o["default"]({i18n:we,store:ue,router:C,render:e=>e(y)}).$mount("#app")},9734:function(e){e.exports={title:"Treasure Stealing",fixedHeader:!1,sidebarLogo:!0}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],a=e[l][2];for(var i=!0,c=0;c<o.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+{177:"home",234:"inventory",535:"login",864:"connect-wallet"}[e]+"."+{177:"f22031f7",234:"89986b4e",535:"d6d24e39",864:"e56c72e5"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="game-treasure-stealing-vue:";n.l=function(o,r,a,s){if(e[o])e[o].push(r);else{var i,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=o),e[o]=[r];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(_);var r=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(n)})),t)return t(n)},_=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var s=n.p+n.u(t),i=new Error,c=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,r[1](i)}};n.l(s,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,s=o[0],i=o[1],c=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var l=c(n)}for(t&&t(o);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},o=self["webpackChunkgame_treasure_stealing_vue"]=self["webpackChunkgame_treasure_stealing_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2210)}));o=n.O(o)})();